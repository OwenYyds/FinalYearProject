<div class="container-fluid">

    <div class="row">
        <div class="col-lg-12">
            <div class="card">
                <div class="card-toolbar clearfix">
                    <form class="pull-right search-bar" method="get" action="#!" role="form">
                        <div class="input-group">
                            <div class="input-group-btn">
                                <input type="hidden" name="search_field" id="search-field" value="title">
                                <button class="btn btn-default dropdown-toggle" id="search-btn" data-toggle="dropdown"
                                        type="button" aria-haspopup="true" aria-expanded="false">
                                    标题 <span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu">
                                    <li><a tabindex="-1" href="javascript:void(0)" data-field="title">标题</a></li>
                                    <li><a tabindex="-1" href="javascript:void(0)" data-field="cat_name">栏目</a></li>
                                </ul>
                            </div>
                            <input type="text" class="form-control" value="" name="keyword" placeholder="请输入名称">
                        </div>
                    </form>
                    <div class="toolbar-btn-action">
                        <a class="btn btn-primary m-r-5 " data-toggle="modal" data-target="#game-add" href="#!"><i
                                class="mdi mdi-plus"></i> 新增</a>
                        <a class="btn btn-danger" href="#!"><i class="mdi mdi-window-close"></i> 删除</a>
                    </div>
                </div>
                <div class="card-body">

                    <div class="container">
                        <table class="table table-responsive layui-table-fixed table-bordered table-hover table-light">
                            <thead>
                            <tr>
                                <th class="col">
                                    <label class="lyear-checkbox checkbox-primary">
                                        <input type="checkbox" id="check-all"><span></span>
                                    </label>
                                </th>
                                <th class="col-lg">点赞数</th>
                                <th class="col-lg">游戏ID</th>
                                <th class="col-lg">游戏图片</th>
                                <th class="col-lg">中文名称</th>
                                <th class="col-lg">英文名称</th>
                                <th class="col-lg">评分</th>
                                <th class="col-lg">开发商</th>
                                <th class="col-lg">发行日期</th>
                                <th class="col-lg">游戏分类</th>
                                <th class="col-lg">操作</th>
                            </tr>
                            </thead>
                            <tbody id="content_games">

                            <tr>
                                <td>
                                    <label class="lyear-checkbox checkbox-primary">
                                        <input type="checkbox" name="ids[]" value="1"><span></span>
                                    </label>
                                </td>
                                <td>点赞数</td>
                                <td>游戏ID</td>
                                <td>游戏图片</td>
                                <td>中文名称</td>
                                <td>英文名称</td>
                                <td>评分</td>
                                <td>开发商</td>
                                <td>发行日期</td>
                                <td>游戏简介</td>
                                <td>游戏分类</td>
                                <td>
                                    <div class="btn-group">
                                        <a id="editGame" class="btn btn-xs btn-default" href="javascript:;" title="编辑"
                                           data-toggle="tooltip"><i
                                                class="mdi mdi-pencil"></i></a>
                                        <a id="gameDetail" class="btn btn-xs btn-default" href="javascript:;" title="查看"
                                           data-toggle="tooltip"><i
                                                class="mdi mdi-eye"></i></a>
                                        <a id="deleteGame" class="btn btn-xs btn-default" href="javascript:;" title="删除"
                                           data-toggle="tooltip"><i
                                                class="mdi mdi-window-close"></i></a>
                                    </div>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <ul class="pagination">
                        <li class="disabled"><span>«</span></li>
                        <li class="active"><span>1</span></li>
                        <li><a href="#1">2</a></li>
                        <li><a href="#1">3</a></li>
                        <li class="disabled"><span>...</span></li>
                        <li><a href="#!">»</a></li>
                    </ul>

                </div>
            </div>
        </div>

    </div>


    <div class="modal fade" id="game-add" data-bs-backdrop="static">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-body">
                    <div class="d-flex">
                        <input type="number" placeholder="游戏ID" class="form-control my-3" name="gameID1">
                        <input type="text" placeholder="游戏图片路径" name="gameImage" class="form-control my-3">
                        <input type="text" placeholder="游戏中文名称" name="Cname" class="form-control my-3">
                        <input type="text" placeholder="游戏英文名称" name="Ename" class="form-control my-3">
                        <label for="select">游戏类型</label>
                        <select name="category" id="select" class="form-select my-3">
                            <option value="休闲">休闲</option>
                            <option value="体育">体育</option>
                            <option value="冒险">冒险</option>
                            <option value="动作">动作</option>
                            <option value="竞速">竞速</option>
                            <option value="角色扮演">角色扮演</option>
                            <option value="策略">策略</option>
                            <option value="射击">射击</option>
                        </select>
                        <input type="text" placeholder="游戏评分" name="score" class="form-control my-3">
                        <input type="text" placeholder="游戏开发商" name="developer" class="form-control my-3">
                        <input type="date" name="date" class="form-control my-3">
                        <textarea name="profile" class="form-control my-3" rows="3" placeholder="游戏简介"
                                  id="profile"></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                    <button class="btn btn-primary" type="submit">添加</button>
                </div>
            </div>
        </div>
    </div>

</div>

<script>
    $(function () {
        $.get("/index/hotgames/", function (data) {
            let html = '';
            let tedite = '<td><div class="btn-group"> <a class="btn btn-xs btn-default" href="#!" title="编辑" data-toggle="tooltip"><i class="mdi mdi-pencil"></i></a><a class="btn btn-xs btn-default" href="#!" title="查看" data-toggle="tooltip"><i class="mdi mdi-eye"></i></a> <a class="btn btn-xs btn-default" href="#!" title="删除" data-toggle="tooltip"><i class="mdi mdi-window-close"></i></a></div></td></tr>';
            for (let i = 0; i < data.length; i++) {
                let tcheckbox = '<tr><td class=""><label class="lyear-checkbox checkbox-primary"> <input type="checkbox" name="ids[]" value=""><span></span></label> </td>';
                let tds = tcheckbox + '<td>' + data[i].liked + '</td><td>' + data[i].gameid + '</td><td id="gameImg">' + data[i].gameimage + '</td><td>' + data[i].cname + '</td><td>' + data[i].ename + '</td><td>' + data[i].score + '</td> <td>' + data[i].developer + '</td> <td>' + data[i].date + '</td><td>' + data[i].category + '</td>' + tedite;
                html += tds;

                // $("#gameImg").css({
                //     "background": "url(../images/GameImage/" + data[i].gameimage,
                //     "background-size": "cover",
                //     "background-position": "center center"
                // })
            }
            $("#content_games").html(html);
        })
    })
</script>